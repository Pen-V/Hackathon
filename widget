#import widget library
from tkinter import *

#widget object
window = Tk()

#list of starred foods
favFoods = []

#meal selection frame 
topFrame = Frame(window, width=100, height=3, bg='grey')
topFrame.grid(row = 0, column = 0)

#dining common title frame
bottomFrame = Frame(window, width=100, height=3, bg='grey')
bottomFrame.grid(row = 1, column = 0)

#list of foods frame
listFrame = Frame(window, width=100, height = 3, bg = 'grey')
listFrame.grid(row = 2, column = 0)

#toggle button for meal selection
def toggleBreakfast():
    if buttonBreakfast.config('relief')[-1] == 'sunken':
        buttonBreakfast.config(relief="raised")
        buttonBreakfast.config(bg = "white")
    else:
        buttonBreakfast.config(relief="sunken")
        buttonBreakfast.config(bg = "#717171")

def toggleLunch():
    if buttonLunch.config('relief')[-1] == 'sunken':
        buttonLunch.config(relief="raised")
        buttonLunch.config(bg = "white")
    else:
        buttonLunch.config(relief="sunken")
        buttonLunch.config(bg = "#717171")

def toggleDinner():
    if buttonDinner.config('relief')[-1] == 'sunken':
        buttonDinner.config(relief="raised")
        buttonDinner.config(bg = "white")
    else:
        buttonDinner.config(relief="sunken")
        buttonDinner.config(bg = "#717171")

#object for toggle button for star button
class star(Button):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.config(command = self.click_function)
    def click_function(self):
        x, y = self.grid_info()["column"], self.grid_info()["row"]
        food = listFrame.grid_slaves(y, x-1)[0]['text']
        if self.config('relief')[-1] == 'sunken':
            self.config(relief="raised")
            self.config(bg = "white")
            if food in favFoods:
                favFoods.remove(food)
        else:
            self.config(relief="sunken")
            self.config(bg = "gold")
            if food not in favFoods:
                favFoods.append(food)
        print(x, y)
        print(favFoods)

#meal selection buttons
buttonBreakfast = Button(topFrame,
                        text="Breakfast",
                        width=12,
                        bg = "white",
                        relief="raised",
                        command=toggleBreakfast)
buttonBreakfast.grid(row = 0, column = 0)

buttonLunch = Button(topFrame,
                    text="Lunch",
                    width=12,
                    bg = "white",
                    relief="raised",
                    command=toggleLunch)
buttonLunch.grid(row = 0, column = 1)

buttonDinner = Button(topFrame,
                    text="Dinner",
                    width=12,
                    bg = "white",
                    relief="raised",
                    command=toggleDinner)
buttonDinner.grid(row = 0, column = 2)

#dining common labels
labelCarrillo = Label(bottomFrame,
                 text="Carrillo",
                 width=21,
                 anchor = W).grid(row = 0,
                                column = 0)

labelDLG = Label(bottomFrame,
                 text="De La Guerra",
                 width=21,
                 anchor = W).grid(row = 0,
                                column = 1)

labelOrtega = Label(bottomFrame,
                 text="Ortega",
                 width=21,
                 anchor = W).grid(row = 0,
                                column = 2)

labelPortola = Label(bottomFrame,
                 text="Portola",
                 width=21,
                 anchor = W).grid(row = 0,
                                column = 3)

#food list labels
#star button labels
carrilloMenu = ['a', 'b', 'c']
for i in range(len(carrilloMenu)):
    carrilloFood = Label(listFrame,
                         text = carrilloMenu[i],
                         width = 18,
                         pady = 5).grid(row = i+1,
                                          column = 0)
    carrilloButton = star(listFrame,
                            text = 'O',
                            width = 2,
                            height = 1).grid(row=i+1,
                                            column=1)

dlgMenu = ['a', 'b', 'c']
for i in range(len(dlgMenu)):
    dlgFood = Label(listFrame,
                         text = dlgMenu[i],
                         width = 18,
                         pady = 5).grid(row = i+1,
                                          column = 2)
    dlgButton = star(listFrame,
                            text = 'O',
                            width = 2,
                            height = 1).grid(row=i+1,
                                            column=3)
    
ortegaMenu = ['A', 'B', 'C']
for i in range(len(ortegaMenu)):
    ortegaFood = Label(listFrame,
                        text = ortegaMenu[i],
                        width = 18,
                        pady = 5).grid(row = i+1,
                                        column = 4)
    ortegaButton = star(listFrame,
                            text = 'O',
                            width = 2,
                            height = 1).grid(row=i+1,
                                            column=5)

portolaMenu = ['a', 'b', 'c']
for i in range(len(portolaMenu)):
    portolaFood = Label(listFrame,
                        text = portolaMenu[i],
                        width = 18,
                        pady = 5).grid(row = i+1,
                                        column = 6)
    portolaButton = star(listFrame,
                            text = 'O',
                            width = 2,
                            height = 1,
                            relief = 'raised').grid(row=i+1,
                                            column=7)
mainloop()


